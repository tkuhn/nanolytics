prefix np: <http://www.nanopub.org/nschema#>
prefix prov: <http://www.w3.org/ns/prov#>
prefix dct: <http://purl.org/dc/terms/>

select ?nanopub ?botProcess ?botInstance ?botVersion ?botCodebase {
  graph ?headGraph {
    ?nanopub a np:Nanopublication .
    ?nanopub np:hasPublicationInfo ?publicationInfoGraph .
  }
  graph ?publicationInfoGraph {
    ?nanopub prov:wasGeneratedBy ?botProcess .
    ?botProcess prov:used ?botVersion .
    ?botVersion dct:isVersionOf ?botCodebase .
    ?botProcess prov:wasAssociatedWith ?botInstance .
    ?botInstance prov:specializationOf ?botCodebase .
  }
}
